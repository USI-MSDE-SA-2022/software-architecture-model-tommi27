@startuml
!include <C4/C4_Container>

Person(user_c, "Customer", "")
Person(user_s, "Seller", "User as Seller")

System_Boundary(boundary, "Internet Marketplace") {
    Container(website, "Website", "HTML, CSS, light JavaScript" ,"Display Data and Provide Search Features")
    Container(search_engine, "Search Engine", "Elasticsearch", "Perform Search")
    Container(crawler, "Web Crawler", "Python", "Crawl Data")
    Container(db, "Database", "MongoDB", "Store Crawled Data")
}

System_Ext(third_party, "Third Party Seller")
System_Ext(third_party_transaction, "Third Party Transaction Service")

Rel(user_c, website, "Look Up Products")
Rel(user_s, website, "Post Own Products")
Rel(website, third_party, "Redirect To", "Purchasable Product on Third Party Site")
Rel(crawler, third_party, "Crawl", "Product Data")
Rel(crawler, db, "Store Data")
Rel(search_engine, db, "Read Data")
Rel(website, search_engine, "Get Data to Display")
Rel(website, third_party_transaction, "Redirect Users to External Transaction Service", "User-Generated Posts")
@enduml